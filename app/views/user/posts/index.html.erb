<h1>投稿一覧</h1>
<div class="container">
    <div class="row">
        <table>
            <thead>
                <tr>
                    <th></th>
                    <th>タイトル</th>
                    <th>内容</th>
                    <th></th>
                </tr>
            </thead>
            
            <%= render "user/posts/search" %>
            
            <%= form_tag posts_path, method: :get, class: 'boards__searchForm' do %>
              <% @tags.each do |tag| %>
                <div class="tag-box">
                  <%= link_to tag.name, posts_path(name: tag.id) %>
                </div>
              <% end %>
            <div class="tag-box">
                <%= link_to "全ての投稿", posts_path %>
             </div>
            <% end %>
            
            <tbody>
                <%= @posts.each do |post| %>
                <tr>
                    <td>
                        <%= link_to user_path(post.user.id) do %>
                        <%= image_tag post.user.get_image(100,100) %>
                        <% end %>
                    </td>
                    <td>
                        <%= truncate(post.description, length: 7) do %>
                        <%= link_to post.title, post_path(post.id) %>
                        <% end %>
                    </td>
                    <td>
                        <%= truncate(post.description, length: 10) do %>
                        <%= post.introduction %>
                        <% end %>
                    </td>
                    <td>
                        <% post.tags.each do |tag| %>
                            <%= tag.name %>
                        <% end %>
                    </td>
                    <td>
                        <p><%= link_to "#{post.post_comments.count} コメント", post_path(post_.id) %></p>
                    </td>
                </tr>
                <% end %>
            </tbody>
        </table>
    </div>
</div>
